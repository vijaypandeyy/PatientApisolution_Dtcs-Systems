<!-- main app container -->
{{diagnostic}}
<div class="jumbotron">
    <div class="container">
        <div class="row">
            <div class="col-md-12 mx-auto  ">
                <!-- #PatientForm="ngForm" -->
                <form [formGroup]="patientForm">
                    <div class="form-group row">
                        <div class="col-sm-6">
                            <label for="name">Name</label>
                            <input type="text" class="form-control" required id="name" formControlName="Name"
                                name="name">
                            <div *ngIf="patientForm.get('Name').errors && patientForm.get('Name').touched"
                                class="alert alert-danger">
                                only alphabets are allowed
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label for="SurName">Sur Name</label>
                            <input type="text" required class="form-control" id="SurName" formControlName="SurName"
                                name="SurName">

                            <div *ngIf="patientForm.get('SurName').errors  && this.patientForm.get('SurName').touched "
                                class="alert alert-danger">
                                only alphabets are allowed
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-sm-6">
                            <label for="gender">gender</label>
                            <input type="text" class="form-control" id="gender" required formControlName="Gender"
                                name="gender">
                        </div>
                        <div class="col-sm-6">
                            <label for="DOB">Date of birth</label>
                            <input type="date" class="form-control" required id="DOB" formControlName="DOB" name="DOB">

                            <div *ngIf="patientForm.get('DOB').errors&& patientForm.get('DOB').touched"
                                class="alert alert-danger">
                                DOB cannot be a future data and cannot be less tha 100 years range
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-6">
                            <label for="state">State</label>
                            <select class="form-control" id="state" #stateSelect formControlName="stateid"
                                (change)='onOptionsSelected(stateSelect.value)'>
                                <option *ngFor="let item of States| async" [value]="item.Id">{{item.Name}}</option>
                            </select>

                        </div>
                        <div class="col-sm-6">
                            <label for="city">city</label>

                            <select class="form-control" id="city" formControlName="Cityid">
                                <option *ngFor="let item of Cities| async" [value]="item.Id">{{item.Name}}</option>
                            </select>

                        </div>
                    </div>
                    <div class="form-group row">
                        <div *ngIf="patientForm.invalid && patientForm.get('DOB').touched" class="form-group row"
                            class="alert alert-danger">
                            Please check Name/surname/DOB/Gender
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-6">
                            <button class="btn btn-primary" (click)="onFetch()">Fetch</button>
                        </div>
                        <div class="col-sm-6">
                            <button class="btn btn-primary" (click)="onSave()">Save</button>
                        </div>
                    </div>





                </form>
            </div>
        </div>
    </div>
</div>